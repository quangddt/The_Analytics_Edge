knitr::opts_chunk$set(echo = TRUE, comment = NA, results = "hold", message = FALSE, warning = FALSE)
trials <- read.csv("clinical_trial.csv", stringsAsFactors = FALSE)
str(trials)
summary(trials)
max(trials$abstract)
length(max(trials$abstract))
max(trials$abstract)
?length
?chr
?string
a = 'dasdwaaw'
a
length(a)
mean(a)
sum(a)
a
size(a)
character(a)
?character
is.character(a)
character(length = 2)
length(a)
a <- "asds" "asdas"
a <- "asds" +"asdas"
a=c('adas','adas')
length(a)
a="dasdasdsa"
lengths(a)
?nchar
a
a[1]
a[3]
nchar(a)
nchar(max(trials$abstract))
nchar(trials$abstract)
max(nchar(trials$abstract))
is.na(trials$abstract)
sum(is.na(trials$abstract))
min(nchar(trials$abstract))
sum(nchar(trials$abstract)==0)
trials$title[which.min(nchar(trials$title))]
library(tm)
library(SnowballC)
corpusTitle <- VCorpus(VectorSource(trials$title))
corpusAbstract <- VCorpus(VectorSource(trials$abstract))
corpusTitle <- tm_map(corpusTitle, content_transformer(tolower))
corpusAbstract <- tm_map(corpusAbstract, content_transformer(tolower))
corpusTitle <- tm_map(corpusTitle, content_transformer(removePunctuation))
corpusAbstract <- tm_map(corpusAbstract, content_transformer(removePunctuation))
corpusTitle <- tm_map(corpusTitle, removeWords, stopwords("english"))
corpusAbstract <- tm_map(corpusAbstract, removeWords, stopwords("english"))
corpusTitle <- tm_map(corpusTitle, stemDocument)
corpusAbstract <- tm_map(corpusAbstract, stemDocument)
dtmTitle <- DocumentTermMatrix(corpusTitle)
dtmAbstract <- DocumentTermMatrix(corpusAbstract)
dtmTitle <- removeSparseTerms(dtmTitle, sparse = 0.95)
dtmAbstract <- removeSparseTerms(dtmAbstract, sparse = 0.95)
dtmTitle <- as.data.frame(as.matrix(dtmTitle))
dtmAbstract <- as.data.frame(as.matrix(dtmAbstract))
str(dtmTitle)
str(dtmAbstract)
which.max(colSums(dtmAbstract))
?paste0
colnames(dtmTitle) <- paste0("T", colnames(dtmTitle))
colnames(dtmAbstract) <- paste0("A", colnames(dtmAbstract))
dtm <- cbind(dtmTitle, dtmAbstract)
dtm$trial <- trials$trial
str(dtm)
library(caTools)
spl <- sample.split(dtm$trial, SplitRatio = 0.7)
set.seed(144)
trainSet <- subset(dtm, spl == TRUE)
testSet <- subset(dtm, spl == FALSE)
table(train$trial)
library(caTools)
spl <- sample.split(dtm$trial, SplitRatio = 0.7)
set.seed(144)
trainSet <- subset(dtm, spl == TRUE)
testSet <- subset(dtm, spl == FALSE)
table(train$trials)
library(caTools)
spl <- sample.split(dtm$trial, SplitRatio = 0.7)
set.seed(144)
trainSet <- subset(dtm, spl == TRUE)
testSet <- subset(dtm, spl == FALSE)
table(trainSet$trial)
library(caTools)
spl <- sample.split(dtm$trial, SplitRatio = 0.7)
set.seed(144)
trainSet <- subset(dtm, spl == TRUE)
testSet <- subset(dtm, spl == FALSE)
table(trainSet$trial)
(730)/(730+572)
library(rpart)
library(rpart.plot)
trialCART <- rpart(trial ~ ., data = trainSet, method = "class")
prp(trialCART)
predCART <- predict(trialCART)
max(predCART[,2])
table(trainSet$trial, predCART>=0.5)
table(trainSet$trial, predCART[,2]>=0.5)
table(trainSet$trial, predCART[,2]>=0.5)
(631+441)/(631+441+99+131)
441/(441+131)
631/(631+99)
predTest <- predict(trialCART, newdata = testSet, type = "class")
table(testSet$trial, predTest)
predTest <- predict(trialCART, newdata = testSet, type = "class")
table(testSet$trial, predTest)
(261+162)/(261+162+52+83)
library(ROCR)
install.packages(ROCR)
install.packages("ROCR")
library(ROCR)
predTest <- predict(trialCART, newdata = testSet)
predTestROCR <- prediction(predTest[,2], testSet$trial)
as.numeric(performance(predTestROCR, "auc")@y.values)
knitr::opts_chunk$set(echo = TRUE, comment = NA, results = "hold", message = FALSE, warning = FALSE)
dailykos <- read.csv("dailykos.csv")
setwd("C:/Users/qdd745/OneDrive/Documents/Data Science/Courses/The Analytics Edge/Unit 6 Clustering/Assignments/Document Clustering with Daily Kos")
dailykos <- read.csv("dailykos.csv")
distances <- dist(dailykos, method = "euclidean")
dailykosClusters <- hclust(distances, method = "ward.D")
plot(dailykosClusters)
kosClusters <- cutree(dailykosClusters, k = 7)
clusters <- cutree(dailykosClusters, k = 7)
rm(kosClusters)
clusters <- cutree(dailykosClusters, k = 7)
kosCluster1 <- subset(dailykos, clusters==1)
kosCluster2 <- subset(dailykos, clusters==2)
kosCluster3 <- subset(dailykos, clusters==3)
kosCluster4 <- subset(dailykos, clusters==4)
kosCluster5 <- subset(dailykos, clusters==5)
kosCluster6 <- subset(dailykos, clusters==6)
kosCluster7 <- subset(dailykos, clusters==7)
tail(sort(colMeans(kosCluster1)))
tail(sort(colMeans(kosCluster2)))
tail(sort(colMeans(kosCluster3)))
tail(sort(colMeans(kosCluster4)))
tail(sort(colMeans(kosCluster5)))
tail(sort(colMeans(kosCluster6)))
tail(sort(colMeans(kosCluster7)))
set.seed(1000)
kMeansClusters <- kmeans(dailykos, centers = 7)
cluster1 <- subset(dailykos, kMeansClusters==1)
kMeansClusters$cluster
cluster1 <- subset(dailykos, kMeansClusters$cluster==1)
cluster2 <- subset(dailykos, kMeansClusters$cluster==2)
cluster3 <- subset(dailykos, kMeansClusters$cluster==3)
cluster4 <- subset(dailykos, kMeansClusters$cluster==4)
cluster5 <- subset(dailykos, kMeansClusters$cluster==5)
cluster6 <- subset(dailykos, kMeansClusters$cluster==6)
cluster7 <- subset(dailykos, kMeansClusters$cluster==7)
tail(sort(colMeans(cluster1)))
tail(sort(colMeans(cluster2)))
tail(sort(colMeans(cluster3)))
tail(sort(colMeans(cluster4)))
tail(sort(colMeans(cluster5)))
tail(sort(colMeans(cluster6)))
tail(sort(colMeans(cluster7)))
dailykosClusters$labels
dailykosClusters
dailykosClusters[[1]]
table(clusters, kMeansClusters$cluster)
knitr::opts_chunk$set(echo = TRUE, comment = NA, results = "hold", message = FALSE, warning = FALSE)
airlines <- read.csv("AirlinesCluster.csv")
summary(airlines)
library(caret)
install.packages(caret)
install.packages("caret")
library(caret)
library(ggplot2)
R.version
